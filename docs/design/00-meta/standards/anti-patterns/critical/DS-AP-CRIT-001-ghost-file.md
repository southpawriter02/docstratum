# DS-AP-CRIT-001: Ghost File

| Field | Value |
|-------|-------|
| **DS Identifier** | DS-AP-CRIT-001 |
| **Status** | DRAFT |
| **ASoT Version** | 0.0.0-scaffold |
| **Registry ID** | AP-CRIT-001 |
| **Category** | Critical |
| **Check ID** | CHECK-001 (v0.0.4c) |
| **Severity Impact** | Gate structural score at 29 — total quality score capped regardless of other dimensions |
| **Provenance** | v0.0.4c §Anti-Patterns Catalog; v0.0.2b audit data |

## Description

A **Ghost File** is an llms.txt file that exists at the expected path (`/llms.txt`) but contains no meaningful content — it is empty, near-empty, or contains only boilerplate with no substantive documentation. The file's presence implies documentation availability, but its content delivers nothing.

This is one of the four **critical** anti-patterns. Critical anti-patterns trigger the structural gating rule: the total quality score is capped at 29 (Critical grade) regardless of any other scoring. This is the harshest penalty in the scoring framework because a Ghost File actively wastes an AI agent's context window on content that provides zero value — it is worse than having no llms.txt file at all (at least the absence of a file doesn't consume tokens).

## Detection Logic

The validator detects a Ghost File using these heuristics:

```python
# Ghost File detection
is_ghost = (
    # Check 1: File is literally empty or whitespace-only
    len(content.strip()) == 0
    # Check 2: File contains only an H1 title and nothing else
    or (section_count == 0 and total_links == 0 and len(blockquote_text.strip()) < 10)
    # Check 3: File content is below meaningful threshold (< 50 tokens)
    or estimated_tokens < 50
)
```

**Threshold rationale:** The 50-token threshold was calibrated against real-world specimens. The smallest useful llms.txt file in the v0.0.2 audit contained approximately 80 tokens. Files below 50 tokens cannot contain enough content to be useful to an AI agent.

## Example (Synthetic)

```markdown
# My Project

> A project.

## Docs
```

This file technically has an H1, a blockquote, and an H2 section — but the section is empty, the blockquote is meaningless, and the total content is ~10 tokens. It passes L0 (parseable) and even parts of L1 (structural), but it is a Ghost File because it provides no value to a consumer.

## Remediation

1. Add meaningful content to existing sections (descriptions, links, code examples).
2. If the file was auto-generated by a tool, review and curate the output.
3. At minimum, include: a descriptive blockquote (>20 characters), at least one H2 section with links, and link descriptions.
4. If the project genuinely has no documentation to link to, consider removing the llms.txt file entirely rather than publishing a ghost.

## Affected Criteria

- **L0-02** (Non-Empty Content, Phase C): Ghost files that are literally empty will fail the L0-02 parseable prerequisite check before anti-pattern detection runs. The L0 criterion files will be defined in Phase C.
- **DS-VC-STR-008** (No Critical Anti-Patterns): This is the criterion that checks for all critical anti-patterns including Ghost File.

## Emitted Diagnostics

- **DS-DC-E007** (EMPTY_FILE): Emitted when the file is completely empty or whitespace-only (the most extreme Ghost File variant).

## Related Anti-Patterns

- **DS-AP-CONT-002** (Blank Canvas): A milder variant where the file has structure but individual sections contain placeholder text. Ghost File is the file-level version; Blank Canvas is the section-level version.

## Change History

| ASoT Version | Date | Change |
|--------------|------|--------|
| 0.0.0-scaffold | 2026-02-08 | Initial draft — Phase A example file |
